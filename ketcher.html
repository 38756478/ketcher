<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Ketcher</title>
        <link rel="stylesheet" type="text/css" href="ketcher.css" />
        <script type="text/javascript" src="prototype-min.js"></script>
        <script type="text/javascript" src="raphael-min.js"></script>
        <script type="text/javascript" src="base64.js"></script>
        <script type="text/javascript" src="util/common.js"></script>
        <script type="text/javascript" src="util/vec2.js"></script>
        <script type="text/javascript" src="util/set.js"></script>
        <script type="text/javascript" src="util/map.js"></script>
        <script type="text/javascript" src="util/pool.js"></script>
        <script type="text/javascript" src="chem/element.js"></script>
        <script type="text/javascript" src="chem/struct.js"></script>
        <script type="text/javascript" src="chem/molfile.js"></script>
        <script type="text/javascript" src="chem/sgroup.js"></script>
        <script type="text/javascript" src="chem/struct_valence.js"></script>
        <script type="text/javascript" src="chem/dfs.js"></script>
        <script type="text/javascript" src="chem/cis_trans.js"></script>
        <script type="text/javascript" src="chem/stereocenters.js"></script>
        <script type="text/javascript" src="chem/smiles.js"></script>
        <script type="text/javascript" src="rnd/events.js"></script>
        <script type="text/javascript" src="rnd/visel.js"></script>
        <script type="text/javascript" src="rnd/restruct.js"></script>
        <script type="text/javascript" src="rnd/restruct_rendering.js"></script>
        <script type="text/javascript" src="rnd/render.js"></script>
        <script type="text/javascript" src="rnd/elem_table.js"></script>
        <script type="text/javascript" src="ui/ui.js"></script>
        <script type="text/javascript" src="ui/actions.js"></script>
        <script type="text/javascript" src="ketcher.js"></script>
    </head>

    <body onload="ketcher.init();">

        <div>
            <table id="ketcher_window">
                <tr align="center" id="main_toolbar">
                    <td style="width:36px"><img class="sideButton modeButton" id="select_simple" src="png/action/arrow.png" alt="" title="Element Selection (Esc)" /></td>
                    <td class="toolDelimiter"></td>
                    <!--td style="width:36px"><object type="image/svg+xml" width="28" height="28" data="svg/document-new28x28.svg"></object></td-->
                    <td class="toolButtonCell toolButton" id="new"><img src="png/action/document-new.png" alt="" title="New (Ctrl+N)" /></td>
                    <td class="toolButtonCell toolButton" id="open"><img src="png/action/document-open.png" alt="" title="Open... (Ctrl+O)" /></td>
                    <td class="toolButtonCell toolButton" id="save"><img src="png/action/document-save-as.png" alt="" title="Save As... (Ctrl+S)" /></td>
                    <td class="toolDelimiter"></td>
                    <td class="toolButtonCell toolButton buttonDisabled" id="undo"><img src="png/action/edit-undo.png" alt="" title="Undo (Ctrl+Z)" /></td>
                    <td class="toolButtonCell toolButton buttonDisabled" id="redo"><img src="png/action/edit-redo.png" alt="" title="Redo (Ctrl+Shift+Z)" /></td>
                    <td class="toolButtonCell toolButton buttonDisabled" id="cut"><img src="png/action/edit-cut.png" alt="" title="Cut (Ctrl+X)" /></td>
                    <td class="toolButtonCell toolButton buttonDisabled" id="copy"><img src="png/action/edit-copy.png" alt="" title="Copy (Ctrl+C)" /></td>
                    <td class="toolButtonCell toolButton buttonDisabled" id="paste"><img src="png/action/edit-paste.png" alt="" title="Paste (Ctrl+V)" /></td>
                    <td class="toolDelimiter"></td>
                    <td class="toolButtonCell toolButton" id="zoom_in"><img src="png/action/view-zoom-in.png" alt="" title="Zoom In (+)" /></td>
                    <td class="toolButtonCell toolButton" id="zoom_out"><img src="png/action/view-zoom-out.png" alt="" title="Zoom Out (-)" /></td>
                    <td class="toolDelimiter"></td>
                    <td class="toolButtonCell"><div id="clean_up" class="toolButton toolIcon serverRequired" title="Clean Up (Ctrl+L)"></div></td>
                    <td style="width:100%"></td>
                    <td class="toolButtonCell"><div id="pattern_six1" class="toolButton toolIcon modeButton" title="Benzene (R)"></div></td>
                    <td class="toolButtonCell"><div id="pattern_six2" class="toolButton toolIcon modeButton" title="Cyclohexane (R)"></div></td>
                    <td class="toolButtonCell"><div id="pattern_five" class="toolButton toolIcon modeButton" title="Cyclopentane (R)"></div></td>
                    <td class="toolButtonCell toolButton modeButton" id="sgroup"><img src="png/action/sgroup.png" alt="" title="S-Group (Ctrl+G)" /></td>
                    <td style="width:100%"></td>
                    <td style="width:1px" rowspan="16"></td>
                    <td style="width:36px;padding:0px 0px 0px 1px;"><a href="http://www.ggasoftware.com/" target="_blank"><img src="png/logo.png" alt="" title="GGA Software Services" /></a></td>
                </tr>
                <!--tr align="center">
                    <td style="height:0px"></td>
                    <td colspan="15" rowspan="13"><div id="client_area"></div></td>
                    <td style="height:0px"></td>
                </tr-->
                <tr class="sideButtonCell">
                    <td><img class="sideButton modeButton" id="select_erase" src="png/action/edit-clear.png" alt="" title="Erase" /></td>
                    <td colspan="21" rowspan="15"><div id="client_area"></div></td>
                    <td></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_single" title="Single Bond (1)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_table" title="Element table"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_double" title="Double Bond (2)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_any" title="Any Atom (A)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_triple" title="Triple Bond (3)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_h" title="H Atom (H)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_aromatic" title="Aromatic Bond (4)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_c" title="C Atom (C)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_up" title="Single Up Bond (1)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_n" title="N Atom (N)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_down" title="Single Down Bond (1)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_o" title="O Atom (O)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_up_or_down" title="Single Up or Down Bond (1)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_s" title="S Atom (S)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_double_crossed" title="Crossed Double Bond (2)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_f" title="F Atom (F)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="bond_any" title="Any Bond (0)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_p" title="P Atom (P)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="charge_plus" title="Charge Plus (5)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_cl" title="Cl Atom (Shift+C)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="charge_minus" title="Charge Minus (5)"></div></td>
                    <td><div class="sideButton modeButton" id="atom_br" title="Br Atom (Shift+B)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="rxn_arrow" title="Arrow Tool"></div></td>
                    <td><div class="sideButton modeButton" id="atom_i" title="I Atom (I)"></div></td>
                </tr>
                <tr class="sideButtonCell">
                    <td><div class="sideButton modeButton" id="rxn_plus" title="Plus Tool"></div></td>
                    <td></td>
                </tr>
                <tr>
                    <td style="height:100%"></td>
                    <td style="height:100%"></td>
                </tr>
                <tr>
                    <td colspan="24"></td>
                </tr>
            </table>

            <input id="input_label" type="text" maxlength="4" size="4" style="display:none;" />

            <div id="window_cover" style="display:none;"><div id="loading" style="display:none;"></div></div>

            <div class="dialogWindow fileDialog" id="open_file" style="display:none;">
                <div style="width:100%">
                    <div>
                        Open File
                    </div>
                    <div style="height:0.5em"></div>
                    <div class="serverRequired" style="font-size:small">
                        <input type="radio" id="radio_open_from_input" name="input_source" checked>Input</input>
                        <input type="radio" id="radio_open_from_file" name="input_source">File</input>
                    </div>
                    <div class="serverRequired" id="open_from_file">
                        <form id="upload_mol" style="margin-top:4px" action="open" enctype="multipart/form-data" target="buffer_frame" method="post">
                            <input type="file" name="filedata" id="molfile_path" />
                            <div style="margin-top:0.5em;text-align:center">
                                <input id="upload_cancel" type="button" value="Cancel" />
                                <input type="submit" value="OK" />
                            </div>
                        </form>
                    </div>
                    <div style="margin:4px;" id="open_from_input">
                        <textarea class="chemicalText" id="input_mol"></textarea>
                        <div style="margin-top:0.5em;text-align:center">
                            <input id="read_cancel" type="button" value="Cancel" />
                            <input id="read_ok" type="submit" value="OK" />
                        </div>
                    </div>
                </div>
            </div>

            <div class="dialogWindow fileDialog" id="save_file" style="display:none;">
                <div style="width:100%">
                    <div>
                        Save File
                    </div>
                    <div style="height:0.5em"></div>
                    <div>
                        <label>Format:</label>
                        <select id="file_format">Format:
                            <option value="mol">MDL/Symyx Molfile</option>
                            <option value="smi">Daylight SMILES</option>
                            <!--option value="png">Portable Network Graphics PNG</option>
                            <option value="svg">Scalable Vector Graphics SVG</option-->
                        </select>
                    </div>
                    <div style="margin:4px;">
                        <textarea class="chemicalText" id="output_mol" readonly></textarea>
                        <form  id="download_mol" style="margin-top:0.5em;text-align:center" action="save" enctype="multipart/form-data" target="_self" method="post">
                            <input type="hidden" id="mol_data" name="filedata" />
                            <input type="submit" class="serverRequired" value="Save..." />
                            <input id="save_ok" type="button" value="Close" />
                        </form>
                    </div>
                </div>
            </div>

            <div class="dialogWindow propDialog" id="atom_properties" style="display:none;">
                <div style="width:100%">
                    <div>
                        Atom Properties
                    </div>
                    <div style="height:0.5em"></div>
                    <table style="text-align:left">
                        <tr>
                            <td>
                                <label>Label:</label>
                            </td>
                            <td>
                                <input id="atom_label" type="text" maxlength="2" size="3" />
                            </td>
                            <td>
                                <label>Number:</label>
                            </td>
                            <td>
                                <label id="atom_number"></label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Charge:</label>
                            </td>
                            <td>
                                <select id="atom_charge">
                                    <option value="3">+3</option>
                                    <option value="2">+2</option>
                                    <option value="1">+1</option>
                                    <option value="0">0</option>
                                    <option value="-1">-1</option>
                                    <option value="-2">-2</option>
                                    <option value="-3">-3</option>
                                </select>
                            </td>
                            <td>
                                <label>Isotope:</label>
                            </td>
                            <td>
                                <input id="atom_isotope" type="text" maxlength="3" size="3" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Valency:</label>
                            </td>
                            <td>
                                <input id="atom_valence" type="text" maxlength="1" size="3" />
                            </td>
                            <td>
                                <label>Radical:</label>
                            </td>
                            <td>
                                <select id="atom_radical">
                                    <option value="0"></option>
                                    <option value="1">Singlet</option>
                                    <option value="2">Doublet</option>
                                    <option value="3">Triplet</option>
                                </select>
                            </td>
                        </tr>
                    </table>
                    <div style="margin-top:0.5em">
                        <input id="atom_prop_cancel" type="button" value="Cancel" />
                        <input id="atom_prop_ok"type="button" value="OK" />
                    </div>
                </div>
            </div>

            <div class="dialogWindow sgroupDialog" id="sgroup_properties" style="display:none;">
                <div style="width:100%">
                    <div>
                        S-Group Properties
                    </div>
                    <div style="height:0.5em"></div>
                    <table style="text-align:left">
                        <tr>
                            <td>
                                <label>Type:</label>
                            </td>
                            <td>
                                <select id="sgroup_type">
                                    <option value="GEN">Generic</option>
                                    <option value="MUL">Multiple group</option>
                                    <option value="SRU">SRU polymer</option>
                                    <option value="SUP">Superatom</option>
                                    <option value="DAT">Data</option>
                                </select>
                            </td>
                        </tr>
                        <tr class="generalSGroup">
                            <td>
                                <label>Connection:</label>
                            </td>
                            <td>
                                <select id="sgroup_connection">
                                    <option value="ht">Head-to-tail</option>
                                    <option value="hh">Head-to-head</option>
                                    <option value="eu">Either unknown</option>
                                </select>
                            </td>
                        </tr>
                        <tr class="generalSGroup">
                            <td>
                                <label>Label (subscript):</label>
                            </td>
                            <td>
                                <input id="sgroup_label" type="text" maxlength="15" size="15" />
                            </td>
                        </tr>
                        <tr class="dataSGroup">
                            <td>
                                <label>Field name:</label>
                            </td>
                            <td>
                                <input id="sgroup_field_name" type="text" maxlength="30" size="30" />
                            </td>
                        </tr>
                        <tr class="dataSGroup">
                            <td>
                                <label>Field value:</label>
                            </td>
                        </tr>
                        <tr class="dataSGroup">
                            <td colspan="2">
                                <textarea class="dataSGroupValue" id="sgroup_field_value"></textarea>
                            </td>
                        </tr>
                    </table>
                    <div style="margin-top:0.5em">
                        <input id="sgroup_prop_cancel" type="button" value="Cancel" />
                        <input id="sgroup_prop_ok"type="button" value="OK" />
                    </div>
                </div>
            </div>

            <div class="dialogWindow elemTableDialog" id="elem_table" style="display:none;">
                <div>
                    <div>
                        Element table
                    </div>
                    <div style="height:0.5em"></div>
                    <div id="elem_table_area"></div>
                    <div align="left">
                        <input type="radio" id="elem_table_list" name="atom_list">List</input> <br />
                        <input type="radio" id="elem_table_not_list" name="atom_list">Not List</input>
                    </div>
                    <div style="margin-top:0.5em">
                        <input id="elem_table_cancel" type="button" value="Cancel" />
                        <input id="elem_table_ok"type="button" value="OK" />
                    </div>
                </div>
            </div>

            <iframe name="buffer_frame" id="buffer_frame" src="about:blank" style="display:none">
            </iframe>
        </div>
    </body>
</html>
